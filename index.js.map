{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport default renderImages;\n\nlet lightbox;\n\nfunction renderImages(images) {\n    const ul = document.querySelector('ul');\n    let markup = '';\n\n    images.forEach(image => {\n        markup += `\n        <li id='parent-li'>\n            <a href=\"${image.largeImageURL}\"  class=\"lightbox\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" data-large-image=\"${image.largeImageURL}\" width=\"360\">\n                <ul id=\"inner-ul\">\n                    <li id=\"inner-li\">\n                        <div id=\"name\">Likes</div>\n                        <div id=\"count\">${image.likes}</div>\n                    </li>\n                    <li id=\"inner-li\">\n                        <div id=\"name\">Views</div>\n                        <div id=\"count\">${image.views}</div>\n                    </li>\n                    <li id=\"inner-li\">\n                        <div id=\"name\">Comments</div>\n                        <div id=\"count\">${image.comments}</div>\n                    </li>\n                    <li id=\"inner-li\">\n                        <div id=\"name\">Downloads</div>\n                        <div id=\"count\">${image.downloads}</div>\n                    </li>\n                </ul>\n            </a>\n        </li>\n        `;\n    });\n\n    ul.insertAdjacentHTML('beforeend', markup);\n\n    if (lightbox) {\n        lightbox.refresh();\n    } else {\n        lightbox = new SimpleLightbox('.lightbox', {\n            captionsData: 'alt',\n            captionDelay: 250\n        });\n    }\n}","import axios from 'axios';\nimport renderImages from './render-functions.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport default searchImages;\n\nlet page = 1; \nlet query = '';\n\nasync function searchImages(newQuery) {\n    if (newQuery !== query) {\n        query = newQuery;\n        page = 1;\n    }\n\n    let countForPage = 15;\n\n    const searchParams = new URLSearchParams({\n        key: \"45503418-8e4034a5d9b1169325787ad22\",\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n        per_page: countForPage,\n        page: page\n    });\n\n    const url = `https://pixabay.com/api/?${searchParams}`;\n    try {\n        document.querySelector('span').style.display = 'block'; \n\n        const response = await axios.get(url); \n        const data = response.data;\n\n        document.querySelector('span').style.display = 'none'; \n\n        if (data.hits.length === 0) {\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                color: '#ff0000',\n                position: 'topRight',\n            });\n            return;\n        } else {\n            renderImages(data.hits);\n        }\n\n        if (countForPage * page >= data.totalHits) {\n            document.querySelector('#load-more-button').style.display = 'none';\n            iziToast.info({\n                message: \"We're sorry, but you've reached the end of search results.\",\n                position: 'topRight',\n            });\n        } else {\n            document.querySelector('#load-more-button').style.display = 'block';\n        }\n\n        page++;\n    } catch (error) {\n        console.error('Error:', error);\n    }\n}\n\ndocument.addEventListener('DOMContentLoaded', (event) => {\n    document.querySelector('#load-more-button').addEventListener('click', () => {\n        searchImages(query);\n    });\n});\n","\nimport searchImages from './js/pixabay-api.js';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\ndocument.getElementById('form').addEventListener('submit', function(event) {\n    event.preventDefault(); \n    var inputValue = event.target.elements.input.value; \n    document.getElementById('main-ul').innerHTML = '';\n    document.getElementById('load-more-button').style.display = 'none';\n\n    if (inputValue.trim() === '') {\n        iziToast.warning({\n            message: 'Please enter a search query.',\n            position: 'topRight',\n        });\n    } else {\n        searchImages(inputValue);\n    }\n    event.target.reset();\n});"],"names":["lightbox","renderImages","images","ul","markup","image","SimpleLightbox","page","query","searchImages","newQuery","countForPage","url","data","axios","iziToast","error","event","inputValue"],"mappings":"owBAKA,IAAIA,EAEJ,SAASC,EAAaC,EAAQ,CAC1B,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtC,IAAIC,EAAS,GAEbF,EAAO,QAAQG,GAAS,CACpBD,GAAU;AAAA;AAAA,uBAEKC,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI,uBAAuBA,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA,0CAIlEA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,0CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,0CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAMzD,CAAK,EAEDF,EAAG,mBAAmB,YAAaC,CAAM,EAErCJ,EACAA,EAAS,QAAO,EAEhBA,EAAW,IAAIM,EAAe,YAAa,CACvC,aAAc,MACd,aAAc,GAC1B,CAAS,CAET,CC1CA,IAAIC,EAAO,EACPC,EAAQ,GAEZ,eAAeC,EAAaC,EAAU,CAC9BA,IAAaF,IACbA,EAAQE,EACRH,EAAO,GAGX,IAAII,EAAe,GAYnB,MAAMC,EAAM,4BAVS,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGJ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAUG,EACV,KAAMJ,CACd,CAAK,CAEmD,GACpD,GAAI,CACA,SAAS,cAAc,MAAM,EAAE,MAAM,QAAU,QAG/C,MAAMM,GADW,MAAMC,EAAM,IAAIF,CAAG,GACd,KAItB,GAFA,SAAS,cAAc,MAAM,EAAE,MAAM,QAAU,OAE3CC,EAAK,KAAK,SAAW,EAAG,CACxBE,EAAS,MAAM,CACX,QAAS,2EACT,MAAO,UACP,SAAU,UAC1B,CAAa,EACD,MACZ,MACYd,EAAaY,EAAK,IAAI,EAGtBF,EAAeJ,GAAQM,EAAK,WAC5B,SAAS,cAAc,mBAAmB,EAAE,MAAM,QAAU,OAC5DE,EAAS,KAAK,CACV,QAAS,6DACT,SAAU,UAC1B,CAAa,GAED,SAAS,cAAc,mBAAmB,EAAE,MAAM,QAAU,QAGhER,GACH,OAAQS,EAAO,CACZ,QAAQ,MAAM,SAAUA,CAAK,CAChC,CACL,CAEA,SAAS,iBAAiB,mBAAqBC,GAAU,CACrD,SAAS,cAAc,mBAAmB,EAAE,iBAAiB,QAAS,IAAM,CACxER,EAAaD,CAAK,CAC1B,CAAK,CACL,CAAC,EC/DD,SAAS,eAAe,MAAM,EAAE,iBAAiB,SAAU,SAASS,EAAO,CACvEA,EAAM,eAAc,EACpB,IAAIC,EAAaD,EAAM,OAAO,SAAS,MAAM,MAC7C,SAAS,eAAe,SAAS,EAAE,UAAY,GAC/C,SAAS,eAAe,kBAAkB,EAAE,MAAM,QAAU,OAExDC,EAAW,KAAM,IAAK,GACtBH,EAAS,QAAQ,CACb,QAAS,+BACT,SAAU,UACtB,CAAS,EAEDN,EAAaS,CAAU,EAE3BD,EAAM,OAAO,OACjB,CAAC"}